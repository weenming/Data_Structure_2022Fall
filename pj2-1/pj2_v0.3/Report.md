# A File permission system
### 重述问题
很显然，文档中的
>如果⽤户的⽗节点有对某⽂件的操作权限，那么⽤户有对该⽂件的操作权限有效；
>如果⽤户的⽗节点没有对某⽂件的操作权限，那么⽤户有对该⽂件的操作权限⽆效；
>如果⽤户有对某⽂件的⽗⽂件的操作权限，那么⽤户有对该⽂件的操作权限有效；
>如果⽤户没有对某⽂件的⽗⽂件的操作权限，那么⽤户有对该⽂件的操作权限⽆效；
>如果⽆法根据⽤户_⽂件权限列表查询到结果，那么默认⽤户对该⽂件操作权限⽆效
不能被解释为左半句是右半句的充分条件，否则这个例子：`A用户是B用户的父母结点，x文件是y文件的父母结点。假设B用户对y文件有操作权限，且A用户对x文件有操作权限`就会导致矛盾（第1行和第3行），即使中文的意思似乎应该这样解释。

所以我们根据`过程示例`来推断题目的意图。从`过程示例`中可以发现，用户`A`对文件`x`拥有访问权限`i`的充分必要条件是：`A`和`A`的任意一个祖先*都*拥有对`x`和`x`的任意祖先的访问权限`i`。所以我们只需在2层循环内遍历`A`和`x`的祖先，取访问权限的最小值即可。
### User Tree
User Tree中用数组储存节点信息：父母结点的`ID`和名字;数组下标即为该节点的`ID`。此外由于Permission信息中按照名字索引用户和文件，我使用一个hash表，key为`name`，val为`ID`来从名字查找到`ID`。

为了构建用户树，我递归地寻找`USER_root`下的子文件夹并将新结点加入`UserTree`中。

在用户树类中，我们还定义了`GetPermission`方法，通过传入`FileTree`实例，`usr_id`和`file_id`，遍历得到最小的访问权限并返回。当然，若最小

### File Tree

### Permission